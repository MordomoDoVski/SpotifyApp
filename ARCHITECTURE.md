# ğŸµ Spotify Music App - Architecture & Flow Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SpotifyMusicApp (Main Entry)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”œâ”€ @StateObject: MusicService
                 â”œâ”€ @StateObject: YouTubeService
                 â””â”€ preferredColorScheme: .dark
                 
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                         â”‚
    v                         v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MusicService   â”‚   â”‚ YouTubeService   â”‚
â”‚   (Observable)   â”‚   â”‚  (Observable)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ allMusics      â”‚   â”‚ â€¢ videos         â”‚
â”‚ â€¢ downloads      â”‚   â”‚ â€¢ selectedVideo  â”‚
â”‚ â€¢ isPlaying      â”‚   â”‚ â€¢ isLoading      â”‚
â”‚ â€¢ currentMusic   â”‚   â”‚ â€¢ search()       â”‚
â”‚ â€¢ playback ctrl  â”‚   â”‚ â€¢ formatTime()   â”‚
â”‚ â€¢ download ops   â”‚   â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            USER INTERACTION                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    (Tap, Search, Download)
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ContentView (Navigation)                â”‚
â”‚     â”œâ”€ HomeView (Music Library)                    â”‚
â”‚     â”œâ”€ BrowserView (YouTube)                       â”‚
â”‚     â””â”€ DownloadsView (Offline)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    (Access Services)
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Services                                â”‚
â”‚     MusicService    â”‚    YouTubeService            â”‚
â”‚     â€¢ PlayMusic()   â”‚    â€¢ SearchVideos()          â”‚
â”‚     â€¢ Download()    â”‚    â€¢ GetMetadata()           â”‚
â”‚     â€¢ Delete()      â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    (Update State)
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Storage                                 â”‚
â”‚     â€¢ FileManager (Downloads)                      â”‚
â”‚     â€¢ AVFoundation (Audio)                         â”‚
â”‚     â€¢ @Published (UI Updates)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    (UI Re-renders)
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Screen Update                           â”‚
â”‚     New state displayed to user                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## App Navigation Flow

```
                    APP LAUNCH
                         â”‚
                         v
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ContentView        â”‚
              â”‚  (Main Container)    â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚            â”‚
        v            v            v
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ HOME   â”‚   â”‚YOUTUBE â”‚   â”‚DOWNLOADS â”‚
   â”‚  TAB   â”‚   â”‚  TAB   â”‚   â”‚   TAB    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚            â”‚
        â”‚    HomeViewâ”‚            â”‚
        â”‚    â”œâ”€Searchâ”‚            â”‚
        â”‚    â””â”€Cards â”‚            â”‚
        â”‚            â”‚            â”‚
        â”‚    BrowserView          â”‚
        â”‚    â”œâ”€Search            â”‚
        â”‚    â”œâ”€VideoCards        â”‚
        â”‚    â””â”€Player Sheet      â”‚
        â”‚                        â”‚
        â”‚               DownloadsView
        â”‚               â”œâ”€Sort Menu
        â”‚               â”œâ”€MusicCards
        â”‚               â””â”€Empty State
```

## Component Hierarchy

```
ContentView
â”œâ”€â”€ TabView(selectedTab)
â”‚   â”œâ”€â”€ HomeView
â”‚   â”‚   â”œâ”€â”€ VStack
â”‚   â”‚   â”‚   â”œâ”€â”€ HStack (Header)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Text (Title)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Image (Settings)
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Image (Search icon)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TextField
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Button (Clear)
â”‚   â”‚   â”‚   â””â”€â”€ ScrollView
â”‚   â”‚   â”‚       â””â”€â”€ ForEach(filteredMusics)
â”‚   â”‚   â”‚           â””â”€â”€ MusicCard
â”‚   â”‚   â”‚               â”œâ”€â”€ HStack
â”‚   â”‚   â”‚               â”‚   â”œâ”€â”€ Image (Album)
â”‚   â”‚   â”‚               â”‚   â”œâ”€â”€ VStack (Info)
â”‚   â”‚   â”‚               â”‚   â””â”€â”€ HStack (Buttons)
â”‚   â”‚   â”‚               â”‚       â”œâ”€â”€ Download Btn
â”‚   â”‚   â”‚               â”‚       â””â”€â”€ Play Btn
â”‚   â”‚
â”‚   â”œâ”€â”€ BrowserView
â”‚   â”‚   â”œâ”€â”€ VStack
â”‚   â”‚   â”‚   â”œâ”€â”€ Header (YouTube Title)
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchBar
â”‚   â”‚   â”‚   â””â”€â”€ ScrollView
â”‚   â”‚   â”‚       â””â”€â”€ ForEach(filteredVideos)
â”‚   â”‚   â”‚           â””â”€â”€ VideoCard
â”‚   â”‚   â”‚               â”œâ”€â”€ Preview Box
â”‚   â”‚   â”‚               â””â”€â”€ Info Section
â”‚   â”‚   â””â”€â”€ VideoPlayerSheet (Overlay)
â”‚   â”‚
â”‚   â””â”€â”€ DownloadsView
â”‚       â”œâ”€â”€ VStack
â”‚       â”‚   â”œâ”€â”€ Header
â”‚       â”‚   â”œâ”€â”€ SortButtons
â”‚       â”‚   â””â”€â”€ ScrollView
â”‚       â”‚       â”œâ”€â”€ EmptyState OR
â”‚       â”‚       â””â”€â”€ ForEach(sortedDownloads)
â”‚       â”‚           â””â”€â”€ DownloadedMusicCard
â”‚
â””â”€â”€ TabBar (Custom)
    â”œâ”€â”€ HStack
    â”‚   â”œâ”€â”€ TabBarItem (Home)
    â”‚   â”œâ”€â”€ TabBarItem (YouTube)
    â”‚   â””â”€â”€ TabBarItem (Downloads)
```

## State Management Flow

```
â”Œâ”€ MUSIC SERVICE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  @Published var allMusics: [Music]                 â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ Loaded in init() from mock data         â”‚
â”‚         â”œâ”€ Filtered in HomeView                    â”‚
â”‚         â””â”€ Updated when download changes           â”‚
â”‚                                                     â”‚
â”‚  @Published var downloadedMusics: [Music]          â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ Loaded in init() from FileManager       â”‚
â”‚         â”œâ”€ Updated on download() call              â”‚
â”‚         â””â”€ Displayed in DownloadsView              â”‚
â”‚                                                     â”‚
â”‚  @Published var currentMusic: Music?               â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ Set when playMusic() called             â”‚
â”‚         â”œâ”€ Used in mini player                     â”‚
â”‚         â””â”€ Cleared on stop                         â”‚
â”‚                                                     â”‚
â”‚  @Published var isPlaying: Bool                    â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ True when play() called                 â”‚
â”‚         â”œâ”€ False when pause() called               â”‚
â”‚         â””â”€ Updates UI play button                  â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ YOUTUBE SERVICE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                     â”‚
â”‚  @Published var videos: [YouTubeVideo]             â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ Loaded in init() from mock data         â”‚
â”‚         â”œâ”€ Filtered by search()                    â”‚
â”‚         â””â”€ Displayed in BrowserView                â”‚
â”‚                                                     â”‚
â”‚  @Published var selectedVideo: YouTubeVideo?       â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€ Set when video tapped                   â”‚
â”‚         â”œâ”€ Used in player sheet                    â”‚
â”‚         â””â”€ Cleared on close                        â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Operations Flow

```
DOWNLOAD FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User taps Download     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ downloadMusic()     â”‚
    â”‚ called with Music   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FileManager.createDirectory  â”‚
    â”‚ Documents/musics/           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FileManager.createFile       â”‚
    â”‚ musics/[id].mp3             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update Music object          â”‚
    â”‚ isDownloaded = true          â”‚
    â”‚ downloadedAt = Date()        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update @Published arrays     â”‚
    â”‚ â€¢ allMusics                 â”‚
    â”‚ â€¢ downloadedMusics          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UI Updates                   â”‚
    â”‚ â€¢ Card shows checkmark      â”‚
    â”‚ â€¢ Song appears in Downloads â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DELETE FLOW:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User taps Delete       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ deleteDownloaded()  â”‚
    â”‚ called with Music   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ FileManager.removeItem()     â”‚
    â”‚ Documents/musics/[id].mp3   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update Music object          â”‚
    â”‚ isDownloaded = false        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update @Published arrays     â”‚
    â”‚ â€¢ allMusics                 â”‚
    â”‚ â€¢ downloadedMusics          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UI Updates                   â”‚
    â”‚ â€¢ Card shows download icon  â”‚
    â”‚ â€¢ Song removed from list    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Search Filter Flow

```
USER TYPES IN SEARCH:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TextField.onChange  â”‚
â”‚ searchText = query  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Computed property runs:    â”‚
    â”‚ filteredMusics             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ if searchText.isEmpty {       â”‚
    â”‚   return allMusics            â”‚
    â”‚ }                             â”‚
    â”‚                               â”‚
    â”‚ allMusics.filter { music in   â”‚
    â”‚   music.title.contains(...) ORâ”‚
    â”‚   music.artist.contains(...)  â”‚
    â”‚ }                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ @State updates               â”‚
    â”‚ View re-renders              â”‚
    â”‚ ForEach uses new filtered    â”‚
    â”‚ array                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€vâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ UI displays matching songs    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Environment & Dependency Injection

```
@main
struct SpotifyMusicApp: App {
    @StateObject private var musicService = MusicService()
    @StateObject private var youtubeService = YouTubeService()
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .environmentObject(musicService)    â† Injected
                .environmentObject(youtubeService)  â† Injected
        }
    }
}

        â”‚
        v

Any View can access:
    @EnvironmentObject var musicService: MusicService
    @EnvironmentObject var youtubeService: YouTubeService

This allows all views to share the same service instances
and receive state updates automatically!
```

## Color System Flow

```
â”Œâ”€ AppColors (Single Source of Truth) â”€â”€â”€â”€â”€â”
â”‚                                           â”‚
â”‚ struct AppColors {                       â”‚
â”‚   static let primaryGreen = Color(...)   â”‚ ğŸ¨
â”‚   static let darkBackground = Color(...) â”‚
â”‚   static let cardBackground = Color(...)â”‚
â”‚   static let lightText = Color(...)      â”‚
â”‚   static let secondaryText = Color(...)  â”‚
â”‚ }                                        â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€ Referenced in Views
    â”œâ”€ Consistent across app
    â””â”€ Easy to customize (change once, update everywhere)
```

---

**All diagrams show how data flows through your app! ğŸš€**
